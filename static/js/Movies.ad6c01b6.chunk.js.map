{"version":3,"file":"static/js/Movies.ad6c01b6.chunk.js","mappings":"8LACA,EAAuB,wBAAvB,EAA0D,4B,SCE7CA,EAAY,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,UAAWC,EAAc,EAAdA,QAC/BC,GAAWC,EAAAA,EAAAA,MAEjB,OADAC,QAAQC,IAAIH,IAEV,eAAII,UAAWC,EAAf,UACE,SAAC,KAAD,CACED,UAAWC,EACXC,GAAE,kBAAaP,GACfQ,MAAO,CAAEC,KAAMR,GAHjB,SAKGF,Q,kECXF,SAASW,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAC1B,OAAO,wBAAKA,M,yICFd,EAA4B,6B,SCGrB,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAC1B,GAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KAgBA,OACE,kBAAMX,UAAWC,EAAkBO,SAXZ,SAAAI,GAEvB,GADAA,EAAEC,iBAC4B,KAA1BH,EAAeI,OAGjB,OAAOC,IAAAA,OAAAA,QACL,4EAHFP,EAASE,IAQX,WACE,kBAAOM,KAAK,OAAOC,SAhBC,SAAAL,GACtBD,EAAkBC,EAAEM,cAAcC,WAgBhC,mBAAQH,KAAK,SAAb,uB,2CCfS,SAASI,IAAU,IAAD,EAC/B,GAAoCX,EAAAA,EAAAA,UAAS,IAA7C,eAAOY,EAAP,KAAmBC,EAAnB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAK,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GAC3C7B,QAAQC,IAAI2B,IAEZE,EAAAA,EAAAA,YAAU,WAAM,wCACd,yFACgB,KAAVF,EADN,2EAM2BG,EAAAA,EAAAA,IAAeH,GAN1C,mBAMYI,EANZ,EAMYA,KAERR,EAAcQ,EAAKC,SACS,IAAxBD,EAAKC,QAAQC,OATrB,0CAUajB,IAAAA,OAAAA,QACL,6EAXR,qHADc,uBAAC,WAAD,wBAiBdkB,KACC,CAACP,IAMJ,OACE,iCACE,SAACnB,EAAD,CAAWC,SANE,SAAAsB,GACfL,EAAgB,CAAEC,MAAOI,QAMvB,SAACzB,EAAA,EAAD,UACGgB,EAAWa,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACrB,OAAO,SAAC3C,EAAA,EAAD,CAAoBC,UAAW0C,EAAOzC,QAASwC,GAA/BA,a,0MCvC1B,SAAeE,IAAtB,4CAAO,OAAP,oBAAO,oFACY,kDACD,2CAFX,SAGQC,IAAAA,IAAA,UAFI,kDAEJ,YADG,6CAFX,0GAMA,SAAeT,EAAtB,+CAAO,OAAP,oBAAO,WAA8BU,GAA9B,uEACY,4CACD,2CAFX,SAGQD,IAAAA,IAAA,UAFI,4CAEJ,YADG,2CACH,kBACqBC,EADrB,oBAHR,0GAQA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BL,GAA/B,uEACY,sCACD,2CAFX,SAGQG,IAAAA,IAAA,UAFI,uCAEJ,OAAwBH,EAAxB,YADG,2CACH,oBAHR,0GAMA,SAAeM,EAAtB,+CAAO,OAAP,oBAAO,WAA8BN,GAA9B,uEACY,sCACD,2CAFX,SAGQG,IAAAA,IAAA,UAFI,uCAEJ,OAAwBH,EAAxB,oBADG,2CACH,oBAHR,0GAMA,SAAeO,EAAtB,+CAAO,OAAP,oBAAO,WAA+BP,GAA/B,uEACY,sCACD,2CAFX,SAGQG,IAAAA,IAAA,UAFI,uCAEJ,OAAwBH,EAAxB,oBADG,2CACH,oBAHR","sources":["webpack://react-homework-template/./src/components/MovieItem/MovieItem.module.scss?bf85","components/MovieItem/MovieItem.jsx","components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.scss?25b4","components/SearchBar/SearchBar.jsx","pages/Movies.jsx","services/MovieApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MovieItem_item__9621Y\",\"itemLink\":\"MovieItem_itemLink__nrIXO\"};","import { Link, useLocation } from 'react-router-dom';\nimport styles from './MovieItem.module.scss';\nimport PropTypes from 'prop-types';\nexport const MovieItem = ({ filmTitle, movieId }) => {\n  const location = useLocation();\n  console.log(location);\n  return (\n    <li className={styles.item}>\n      <Link\n        className={styles.itemLink}\n        to={`/movies/${movieId}`}\n        state={{ from: location }}\n      >\n        {filmTitle}\n      </Link>\n    </li>\n  );\n};\n\nMovieItem.propTypes = {\n  filmTitle: PropTypes.string.isRequired,\n  movieId: PropTypes.number.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport function MovieList({ children }) {\n  return <ul>{children}</ul>;\n}\n\nMovieList.propTypes = {\n  children: PropTypes.node,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"SearchBar_searchbar__pOkDi\"};","import { useState } from 'react';\nimport Notiflix from 'notiflix';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.scss';\nexport function SearchBar({ onSubmit }) {\n  const [serachBarQuery, setSerachBarQuery] = useState('');\n\n  const handleInputType = e => {\n    setSerachBarQuery(e.currentTarget.value);\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    if (serachBarQuery.trim() !== '') {\n      onSubmit(serachBarQuery);\n    } else {\n      return Notiflix.Notify.failure(\n        'Sorry, there are no movies matching your search query. Please try again.'\n      );\n    }\n  };\n  return (\n    <form className={styles.searchbar} onSubmit={handleFormSubmit}>\n      <input type=\"text\" onChange={handleInputType} />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n}\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { SearchBar } from 'components/SearchBar/SearchBar';\nimport { useState, useEffect } from 'react';\nimport { movieSearching } from 'services/MovieApi';\nimport PropTypes from 'prop-types';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { MovieItem } from 'components/MovieItem/MovieItem';\nimport { useSearchParams } from 'react-router-dom';\nimport Notiflix from 'notiflix';\n\nexport default function Movies() {\n  const [moviesData, setMoviesData] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  console.log(query);\n\n  useEffect(() => {\n    async function searchMovie() {\n      if (query === '') {\n        return;\n      }\n\n      try {\n        const { data } = await movieSearching(query);\n\n        setMoviesData(data.results);\n        if (data.results.length === 0) {\n          return Notiflix.Notify.failure(\n            'Sorry, there are no movies matching your search query. Please try again.'\n          );\n        }\n      } catch (error) {}\n    }\n    searchMovie();\n  }, [query]);\n\n  const formData = data => {\n    setSearchParams({ query: data });\n  };\n\n  return (\n    <>\n      <SearchBar onSubmit={formData} />\n      <MovieList>\n        {moviesData.map(({ id, title }) => {\n          return <MovieItem key={id} filmTitle={title} movieId={id} />;\n        })}\n      </MovieList>\n    </>\n  );\n}\n\nMovies.propTypes = {\n  key: PropTypes.number,\n};\n","import axios from 'axios';\n\n// const BASE_URL = 'https://api.themoviedb.org/3/search/movie';\n// const API_KEY = 'api_key=5f364d2fc6b25c805674b50a1c63d59e';\n\nexport async function fetchTrandingFilms() {\n  const BASE_URL = 'https://api.themoviedb.org/3/trending/movie/day';\n  const API_KEY = 'api_key=5f364d2fc6b25c805674b50a1c63d59e';\n  return await axios.get(`${BASE_URL}?${API_KEY}`);\n}\n\nexport async function movieSearching(searchQuery) {\n  const BASE_URL = 'https://api.themoviedb.org/3/search/movie';\n  const API_KEY = 'api_key=5f364d2fc6b25c805674b50a1c63d59e';\n  return await axios.get(\n    `${BASE_URL}?${API_KEY}&query=${searchQuery}&language=en-US`\n  );\n}\n\nexport async function getMovieDetails(id) {\n  const BASE_URL = 'https://api.themoviedb.org/3/movie/';\n  const API_KEY = 'api_key=5f364d2fc6b25c805674b50a1c63d59e';\n  return await axios.get(`${BASE_URL}${id}?${API_KEY}&language=en-US`);\n}\n\nexport async function getCastDetails(id) {\n  const BASE_URL = 'https://api.themoviedb.org/3/movie/';\n  const API_KEY = 'api_key=5f364d2fc6b25c805674b50a1c63d59e';\n  return await axios.get(`${BASE_URL}${id}/credits?${API_KEY}&language=en-US`);\n}\n\nexport async function getMovieReviews(id) {\n  const BASE_URL = 'https://api.themoviedb.org/3/movie/';\n  const API_KEY = 'api_key=5f364d2fc6b25c805674b50a1c63d59e';\n  return await axios.get(`${BASE_URL}${id}/reviews?${API_KEY}&language=en-US`);\n}\n"],"names":["MovieItem","filmTitle","movieId","location","useLocation","console","log","className","styles","to","state","from","MovieList","children","SearchBar","onSubmit","useState","serachBarQuery","setSerachBarQuery","e","preventDefault","trim","Notiflix","type","onChange","currentTarget","value","Movies","moviesData","setMoviesData","useSearchParams","searchParams","setSearchParams","query","get","useEffect","movieSearching","data","results","length","searchMovie","map","id","title","fetchTrandingFilms","axios","searchQuery","getMovieDetails","getCastDetails","getMovieReviews"],"sourceRoot":""}